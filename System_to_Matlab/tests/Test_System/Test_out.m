function [y] = Test_out(x, params) 
	x0 = 2*q1dot;
	x1 = sin(q2);
	x2 = cos(q2);
	x3 = x1.*x2;
	x4 = q2dot.*x3;
	x5 = x0.*x4;
	x6 = q1dot.*q3dot;
	x7 = cos(x);
	x8 = x7.^4;
	x9 = l2.*x1;
	x10 = sin(q3);
	x11 = m3.*x10.^3;
	x12 = s3.*x11.*x9;
	x13 = x12.*x8;
	x14 = m2.*s2.^2;
	x15 = q3dot.*x0;
	x16 = x7.^2;
	x17 = sin(x);
	x18 = x17.^2;
	x19 = x16.*x18;
	x20 = x15.*x19;
	x21 = q1dot.*q2dot;
	x22 = x21.*x8;
	x23 = cos(q3);
	x24 = s3.*x23;
	x25 = l2.*x2;
	x26 = x24.*x25;
	x27 = m3.*x26;
	x28 = m3.*x23.^3;
	x29 = s3.*x28;
	x30 = x16.*x25;
	x31 = x18.*x30;
	x32 = q2dot.*x0.*x31;
	x33 = s3.^2;
	x34 = x33.*x8;
	x35 = x34.*x6;
	x36 = x10.*x23;
	x37 = m3.*x36;
	x38 = x18.*x23;
	x39 = x33.*x38;
	x40 = x15.*x16.*x39;
	x41 = x11.*x23;
	x42 = x17.^4;
	x43 = x33.*x42;
	x44 = x43.*x6;
	x45 = x23.^2;
	x46 = l2.^2.*m3;
	x47 = x45.*x46;
	x48 = q1dot.*x4;
	x49 = x47.*x48;
	x50 = x46.*x48;
	x51 = s3.*x45;
	x52 = x10.*x9;
	x53 = m3.*x52;
	x54 = x51.*x53;
	x55 = x42.*x6;
	x56 = x19.*x5;
	x57 = x15.*x36;
	x58 = x25.*x29;
	x59 = x21.*x42;
	x60 = x10.^2;
	x61 = x26.*x60;
	x62 = m3.*x61;
	x63 = x10.*x28;
	x64 = x6.*x8;
	x65 = s3.*x53;
	x66 = x46.*x60;
	x67 = x48.*x66;
	x68 = x12.*x42;
	x69 = m3.*x24;
	x70 = x60.*x69;
	x71 = -AS2.*x5 + AS3.*x57 + BS2.*x5 - BS3.*x57 - iG1.*u - m3.*x10.*x40 - x11.*x40 - x12.*x20 - x13.*x6 + x14.*x5 - x20.*x33.*x63 - x20.*x54 - x20.*x65 + x22.*x27 + x22.*x58 + x22.*x62 + x27.*x59 + x29.*x32 + x32.*x69 + x32.*x70 - x35.*x37 - x35.*x41 - x35.*x63 - x37.*x44 - x41.*x44 + x42.*x49 + x42.*x50 + x42.*x67 - x44.*x63 + x46.*x56 + x47.*x56 + x49.*x8 + x50.*x8 - x54.*x55 - x54.*x64 - x55.*x65 + x56.*x66 + x58.*x59 + x59.*x62 - x6.*x68 - x64.*x65 + x67.*x8;
	x72 = x24.*x7 + x7.*x9;
	x73 = x17.*x72;
	x74 = -x17.*x24 - x17.*x9;
	x75 = x7.*x74;
	x76 = -x10.*x73 - x10.*x75;
	x77 = x23.*x73 + x23.*x75;
	x78 = x1.^2;
	x79 = 1./(AS2.*x2.^2 + AS3.*x60 + BM1.*iG1.^2 + BS1 + BS2.*x78 + BS3.*x45 + m3.*x76.^2 + m3.*x77.^2 + m3.*(-x17.*x74 + x7.*x72).^2 + x14.*x78);
	x80 = x10.*x25;
	x81 = -x16.*x80 - x18.*x80 - x23.*x9;
	x82 = m3.*x81;
	x83 = x23.*x30 + x25.*x38 - x52;
	x84 = m3.*x77;
	x85 = x76.*x82 + x83.*x84;
	x86 = 1./(CM2.*iG2.^2 + CS2 + m3.*x81.^2 + m3.*x83.^2 + x14 - x79.*x85.^2);
	x87 = x79.*x85;
	x88 = x10.*x24;
	x89 = -x16.*x88 - x18.*x88 + x88;
	x90 = s3.*x60;
	x91 = x16.*x90 + x18.*x90 + x51;
	x92 = m3.*x76.*x91 + x84.*x89;
	x93 = m3.*x83.*x89 + x82.*x91 - x87.*x92;
	x94 = x86.*x93.^2;
	x95 = 1./(CM3.*iG3.^2 + CS3 + m3.*x89.^2 + m3.*x91.^2 - x79.*x92.^2 - x94);
	x96 = x86.*x93;
	x97 = -x79.*x92 + x87.*x96;
	x98 = x95.*x97;
	x99 = x86.*(-x87 - x93.*x98);
	x100 = x92.*x95;
	x101 = q3dot.^2;
	x102 = x101.*x33;
	x103 = x102.*x63;
	x104 = q1dot.^2;
	x105 = x104.*x23;
	x106 = x10.*x105;
	x107 = x104.*x8;
	x108 = x104.*x63;
	x109 = q2dot.^2;
	x110 = m3.*x109;
	x111 = 2*x16;
	x112 = x111.*x18;
	x113 = x110.*x51.*x52;
	x114 = x105.*x11;
	x115 = x102.*x41;
	x116 = x11.*x111;
	x117 = m3.*params;
	x118 = x117.*x60;
	x119 = x104.*x42;
	x120 = x112.*x12;
	x121 = -AS3.*x106 + BS3.*x106 - M3.*iG3 + params.*x29 + x102.*x116.*x38 + x103.*x112 + x103.*x42 + x103.*x8 - x103 + x104.*x112.*x54 + x104.*x116.*x39 + x104.*x120 + x104.*x68 + x107.*x12 + x107.*x54 + x108.*x112.*x33 + x108.*x34 + x108.*x43 + x109.*x120 + x109.*x13 - x109.*x58 + x109.*x68 - x110.*x61 + x112.*x113 + x113.*x42 + x113.*x8 + x114.*x34 + x114.*x43 + x115.*x42 + x115.*x8 - x115 + x118.*x24 + x119.*x54;
	x122 = x95.*x96;
	x123 = x104.*x3;
	x124 = x112.*x123;
	x125 = x109.*x3;
	x126 = x125.*x66;
	x127 = x123.*x42;
	x128 = 2*x31;
	x129 = x128.*x29;
	x130 = x101.*x58;
	x131 = x125.*x47;
	x132 = x123.*x8;
	x133 = x101.*x62;
	x134 = x128.*x70;
	x135 = AS2.*x123 - BS2.*x123 - M2.*iG2 - m2.*params.*s2.*x1 + x101.*x12 - x101.*x129 - x101.*x134 + x101.*x54 - x104.*x129 - x104.*x134 - x107.*x58 - x107.*x62 - x112.*x126 - x112.*x131 - x117.*x45.*x9 - x118.*x9 - x119.*x58 - x119.*x62 - x123.*x14 - x124.*x47 - x124.*x66 - x126.*x42 - x126.*x8 + x126 - x127.*x47 - x127.*x66 - x130.*x42 - x130.*x8 - x131.*x42 - x131.*x8 + x131 - x132.*x47 - x132.*x66 - x133.*x42 - x133.*x8;
	x136 = x86.*(x94.*x95 + 1);
	x137 = x121.*x95;

	q1 = x;
	g = params;
	M1 = u;
	[q1dot; q2dot; q3dot; q1ddot; q2ddot; q3ddot] = [q1dot; q2dot; q3dot; -x121.*x79.*(-x100 + x122.*x85) - x135.*x79.*(x100.*x96 - x136.*x85) - x71.*x79.*(-x100.*x97 - x85.*x99 + 1); -x135.*x136 + x137.*x96 - x71.*x99; x122.*x135 - x137 - x71.*x98];
	x = [x; q2; q3; q1dot; q2dot; q3dot];
	y = [x; q2; q3; q1dot; q2dot; q3dot];
end